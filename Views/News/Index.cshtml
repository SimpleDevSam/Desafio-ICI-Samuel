@model IReadOnlyList<Desafio_ICI_Samuel.Features.News.ListNews.NewsRow>

<h1>News</h1>

@if (TempData["msg"] is string ok)
{
     <div class="alert alert-success" role="alert">@ok</div>
}

@if (TempData["err"] is string err)
{
    <div class="alert alert-danger" role="alert">@err</div>
}

<div class="mb-3">
    <button type="button" class="btn btn-primary" id="btnCreateNews">New News</button>
</div>

<div class="table-responsive">
    <table class="table table-sm align-middle">
        <thead>
            <tr><th style="width:90px">ID</th><th>Title</th><th style="width:260px">Actions</th></tr>
        </thead>
        <tbody>
            @foreach (var r in Model)
            {
                <tr id="row-@r.Id">
                    <td>@r.Id</td>
                    <td>@r.Title</td>
                    <td>
                        <button type="button" class="btn btn-sm btn-outline-primary me-1" data-edit-news="@r.Id">Edit</button>
                        <form asp-action="Delete" asp-route-id="@r.Id" method="post" class="d-inline">
                            <button type="submit" class="btn btn-sm btn-outline-danger">Delete</button>
                        </form>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

<!-- Ajax partial host -->
<div id="newsFormHost" class="mt-3"></div>

@section Scripts {
    <script src="~/features/news/index.js" asp-append-version="true"></script>
}
